---
name: Test

on:
  # Run tests each time a PR is opened or changed.
  # Allow other Workflows (e.g. build workflows) to call this workflow.
  pull_request:
  workflow_call:

jobs:
  test:
    runs-on: [ubuntu-latest, windows-latest]
    permissions:
      id-token: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      - name: Run Python Tests
        uses: platomo/test-python-app-action@main
        with:
          py-version: 3.11
          test_path: OTAnalytics
          ffmpeg-required: true
